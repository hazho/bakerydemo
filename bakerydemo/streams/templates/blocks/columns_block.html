{% load wagtailcore_tags wagtailimages_tags %}

{% now 'YmdH' as n %} 
{% if not self.row_style.live.s_at or self.row_style.live.s_at|date:"YmdH" < n and not self.row_style.live.e_at or self.row_style.live.e_at and self.row_style.live.e_at|date:"YmdH" > n %}
    <style>
        .block-multi_columns_row {display: flex;}
        @media screen and (max-width: 32em){ 
            .row_section, .multi_col{min-width: 100vw !important;}
        }
        #{{ self.row_style.el_id }}:hover {
            {% if self.row_style.hover_styling.h_text_align %} text-align:{{self.row_style.hover_styling.h_text_align}} !important;{% endif %}
            {% if self.row_style.hover_styling.h_padding %} padding:{{self.row_style.hover_styling.h_padding}} !important; {% endif %}
            {% if self.row_style.hover_styling.h_margin %} margin:{{self.row_style.hover_styling.h_margin}} !important; {% endif %}
            {% if self.row_style.hover_styling.h_font_size %} font-size:{{self.row_style.hover_styling.h_font_size}} !important; {% endif %}
            {% if self.row_style.hover_styling.h_width %} width:{{self.row_style.hover_styling.h_width}} !important; {% endif %}
            {% if self.row_style.hover_styling.h_height %} height:{{self.row_style.hover_styling.h_height}} !important; {% endif %}
            {% if self.row_style.hover_styling.h_b_radius %} border-radius:{{self.row_style.hover_styling.h_b_radius}} !important;{% endif %}
            {% if self.row_style.hover_styling.h_b_top %} border-top:{{self.row_style.hover_styling.h_b_top}} !important;{% endif %}
            {% if self.row_style.hover_styling.h_b_right %} border-right:{{self.row_style.hover_styling.h_b_right}} !important;{% endif %}
            {% if self.row_style.hover_styling.h_b_bottom %} border-bottom:{{self.row_style.hover_styling.h_b_bottom}} !important;{% endif %}
            {% if self.row_style.hover_styling.h_b_left %} border-left:{{self.row_style.hover_styling.h_b_left}} !important;{% endif %}
            {% if self.row_style.hover_styling.h_box_shadow %} box-shadow: {{self.row_style.hover_styling.h_box_shadow}} !important;{% endif %}
            {% if self.row_style.hover_styling.h_color %} color: {{self.row_style.hover_styling.h_color}}{{self.row_style.hover_styling.h_color_opacity}} !important;{% endif %}
            {% if self.row_style.hover_styling.h_use_bg_color %} background-color:{{self.row_style.hover_styling.h_bg_c}}{{self.row_style.hover_styling.h_bg_color_opacity}} !important;{% endif %}
        }
    </style>
    <div class="row_section {{ self.row_style.el_class }} {% if self.row_style.no_desktop and self.row_style.no_mobile %}no_desktop no_mobile{% elif self.row_style.no_desktop %}no_desktop{% elif self.row_style.no_mobile %}no_mobile{% endif %}"

        id="{{self.row_style.el_id}}"
        {% if self.row_style.hover_styling.title %} title="{{ self.row_style.hover_styling.title }}" {% endif %}
        style="
            {% if self.row_style.text_align %} text-align:{{self.row_style.text_align}};{% endif %}
            {% if self.row_style.z_index %} z-index:{{self.row_style.z_index}};{% endif %}
            {% if self.row_style.direction == 'rtl' %} direction:{{self.row_style.direction}}; unicode-bidi: isolate !important;{% endif %}
            {% if self.row_style.position %} position:{{self.row_style.position}}; {% endif %}
            {% if self.row_style.left %} left:{{self.row_style.left}}; {% endif %}
            {% if self.row_style.top %} top:{{self.row_style.top}}; {% endif %}
            {% if self.row_style.padding %} padding:{{self.row_style.padding}}; {% endif %}
            {% if self.row_style.margin %} margin:{{self.row_style.margin}}; {% endif %}
            {% if self.row_style.font_size %} font-size:{{self.row_style.font_size}}; {% endif %}
            width:{{self.row_style.width}}; {% if self.row_style.height %} height:{{self.row_style.height}}; {% endif %}
            {% if self.row_style.b_radius %} border-radius:{{self.row_style.b_radius}};{% endif %}
            {% if self.row_style.b_top %} border-top:{{self.row_style.b_top}};{% endif %}
            {% if self.row_style.b_right %} border-right:{{self.row_style.b_right}};{% endif %}
            {% if self.row_style.b_bottom %} border-bottom:{{self.row_style.b_bottom}};{% endif %}
            {% if self.row_style.b_left %} border-left:{{self.row_style.b_left}};{% endif %}
            {% if self.row_style.box_shadow %} box-shadow: {{self.row_style.box_shadow}} ;{% endif %}
            {% if self.row_style.overflow %} overflow: {{self.row_style.overflow}} ;{% endif %}
            {% if self.row_style.color %} color: {{self.row_style.color}}{{self.row_style.color_opacity}} ;{% endif %}
            {% if self.row_style.use_bg_color %} background-color:{{self.row_style.bg_c}}{{self.row_style.bg_color_opacity}};{% endif %}
            {% if self.row_style.image %}{% image self.row_style.image original format-webp-lossless as img %}background-position: center;background-repeat: no-repeat;background-size: cover;background-image: url({{img.url}});
            {% if self.row_style.blur %} -webkit-backdrop-filter: blur({{self.row_style.blur}}px);backdrop-filter: blur({{self.row_style.blur}}px);{% endif %} background-attachment: {% if self.row_style.paralax %}fixed{% else %}scroll{% endif %}{% endif %}
        " >
            {% for col in self.row.col %}
                    
            {% if not col.col_style.live.s_at or col.col_style.live.s_at|date:"YmdH" < n and not col.col_style.live.e_at or col.col_style.live.e_at and col.col_style.live.e_at|date:"YmdH" > n %}

                <style>
                    {% if col.col_style.el_id %}
                        #{{ col.col_style.el_id }}:hover {
                            {% if col.col_style.hover_styling.h_text_align %} text-align:{{col.col_style.hover_styling.h_text_align}} !important;{% endif %}
                            {% if col.col_style.hover_styling.h_padding %} padding:{{col.col_style.hover_styling.h_padding}} !important; {% endif %}
                            {% if col.col_style.hover_styling.h_margin %} margin:{{col.col_style.hover_styling.h_margin}} !important; {% endif %}
                            {% if col.col_style.hover_styling.h_font_size %} font-size:{{col.col_style.hover_styling.h_font_size}} !important; {% endif %}
                            {% if col.col_style.hover_styling.h_width %} width:{{col.col_style.hover_styling.h_width}} !important; {% endif %}
                            {% if col.col_style.hover_styling.h_height %} height:{{col.col_style.hover_styling.h_height}} !important; {% endif %}
                            {% if col.col_style.hover_styling.h_b_radius %} border-radius:{{col.col_style.hover_styling.h_b_radius}} !important;{% endif %}
                            {% if col.col_style.hover_styling.h_b_top %} border-top:{{col.col_style.hover_styling.h_b_top}} !important;{% endif %}
                            {% if col.col_style.hover_styling.h_b_right %} border-right:{{col.col_style.hover_styling.h_b_right}} !important;{% endif %}
                            {% if col.col_style.hover_styling.h_b_bottom %} border-bottom:{{col.col_style.hover_styling.h_b_bottom}} !important;{% endif %}
                            {% if col.col_style.hover_styling.h_b_left %} border-left:{{col.col_style.hover_styling.h_b_left}} !important;{% endif %}
                            {% if col.col_style.hover_styling.h_box_shadow %} box-shadow: {{col.col_style.hover_styling.h_box_shadow}} !important;{% endif %}
                            {% if col.col_style.hover_styling.h_color %} color: {{col.col_style.hover_styling.h_color}}{{col.col_style.hover_styling.h_color_opacity}} !important;{% endif %}
                            {% if col.col_style.hover_styling.h_use_bg_color %} background-color:{{col.col_style.hover_styling.h_bg_c}}{{col.col_style.hover_styling.h_bg_color_opacity}} !important;{% endif %}
                        }
                    {% endif %}
                </style>
                <div  class="{{ col.col_style.el_class }} multi_col {% if col.col_style.no_desktop and col.col_style.no_mobile %}no_desktop no_mobile{% elif col.col_style.no_desktop %}no_desktop{% elif col.col_style.no_mobile %}no_mobile{% endif %}" 
                                
                    {% if col.col_style.el_id %} id="{{ col.col_style.el_id}}" {% endif %}
                    {% if col.col_style.hover_styling.title %} title="{{ col.col_style.hover_styling.title }}" {% endif %}
                    style="
                        {% if col.col_style.left %} left:{{col.col_style.left}}; {% endif %}
                        {% if col.col_style.top %} top:{{col.col_style.top}}; {% endif %}
                        {% if col.col_style.position %} position:{{col.col_style.position}}; {% endif %}
                        {% if col.col_style.z_index %} z-index:{{col.col_style.z_index}};{% endif %}
                        {% if col.col_style.text_align %} text-align:{{col.col_style.text_align}};{% endif %}
                        {% if col.col_style.direction == 'rtl' %} direction:{{col.col_style.direction}}; unicode-bidi: isolate !important;{% endif %}
                        {% if col.col_style.padding %} padding:{{col.col_style.padding}}; {% endif %}
                        {% if col.col_style.margin %} margin:{{col.col_style.margin}}; {% endif %}
                        {% if col.col_style.font_size %} font-size:{{col.col_style.font_size}}; {% endif %}
                        width:{{col.col_style.width}};
                        {% if col.col_style.height %} height:{{col.col_style.height}};{% endif %}
                        {% if col.col_style.b_radius %} border-radius:{{col.col_style.b_radius}};{% endif %}
                        {% if col.col_style.b_top %} border-top:{{col.col_style.b_top}};{% endif %}
                        {% if col.col_style.b_right %} border-right:{{col.col_style.b_right}};{% endif %}
                        {% if col.col_style.b_bottom %} border-bottom:{{col.col_style.b_bottom}};{% endif %}
                        {% if col.col_style.b_left %} border-left:{{col.col_style.b_left}};{% endif %}
                        {% if col.col_style.box_shadow %} box-shadow: {{col.col_style.box_shadow}} ;{% endif %}
                        {% if col.col_style.overflow %} overflow: {{col.col_style.overflow}} ;{% endif %}
                        {% if col.col_style.color %} color: {{col.col_style.color}} ;{% endif %}
                        {% if col.col_style.use_bg_color %} background-color:{{col.col_style.bg_c}}{{col.col_style.bg_color_opacity}};{% endif %}
                        {% if col.col_style.image %}{% image col.col_style.image original format-webp-lossless as img %}background-position: center;background-repeat: no-repeat;background-size: cover;background-image: url({{img.url}}); -webkit-backdrop-filter: blur({{col.col_style.blur}}px);backdrop-filter: blur({{col.col_style.blur}}px);background-attachment: {% if col.col_style.paralax %}fixed;{% else %}scroll;{% endif %}{% endif %}
                        ">
                            {{ col.col_row }}
                </div>
            {% endif %}
            {% endfor %}
    </div>
{% endif %}